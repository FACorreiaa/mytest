<div class="row justify-content-between">
    <div class="col-md-5 mb-5 card-template">
        <h4>{{'csa.your-listing' | translate}}</h4>
        <div class="row gmb-head">
            <div class="col-4">
                <img src="../../../../assets/images/icons/google_icon.svg" alt="Google Icon">
            </div>
            <div class="col-8">
                <span>Google My Business</span>
            </div>
        </div>
        <div class="row gmb-body">
            <div class="col-4">{{'csa.status' | translate}}</div>
            <div class="status col-8">{{listingStatus ? 'activated' : 'deactivated'}}
                <img src="../../../../assets/images/icons/info_icon.svg" alt="Info icon" placement="right"
                    triggers="mouseenter:mouseleave" ngbPopover="Here's some content">
            </div>
        </div>
        <div class="row">
                <!-- *ngIf="selectedBusiness && !selectedBusiness.channels[0].verificationNeeded" -->
            <div *ngIf="selectedBusiness && !selectedBusiness.channels[0].verificationNeeded" class="col-12 d-flex justify-content-center">
                <button type="button" class="btn btn-secondary" (click)="setStatus()">
                    {{!listingStatus ? 'Activate' : 'Deactivate'}}
                </button>
            </div>
            <!-- *ngIf="selectedBusiness && selectedBusiness.channels[0].verificationNeeded" -->
            <div  class="col-12 d-flex justify-content-center pt-4">
                <button type="button" class="btn btn-secondary" (click)="verifyBusiness()">
                    Verify
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="listingStatus" class="col-md-6 mb-5 card-template">
        <h4>{{'csa.view-listing' | translate}}</h4>
        <div class="row justify-content-center">
            <div class="col-6">
                <div class="row">
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <button type="button" class="btn btn-white"><img
                                src="../../../../assets/images/icons/google_icon.svg" alt="Google Icon"
                                class="img-responsive" (click)="googleSearch()">
                        </button>
                    </div>
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <span>Google Search</span>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="row">
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <button type="button" class="btn btn-white"><img
                                src="../../../../assets/images/icons/maps_logo.svg" alt="Google Maps Logo"
                                class="img-responsive" (click)="googleMaps()">
                        </button>
                    </div>
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <span>Google Maps</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #content="" let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 *ngIf="IsSelectVerification"
            class="modal-title">Select a verification method</h4>
        <h4 *ngIf="IsInsertCode"
            class="modal-title">Type in your Code</h4>
        <h4 *ngIf="IsProcessing"
            class="modal-title">Incoming call on the way</h4>
        <h4 *ngIf="IsSuccess"
            class="modal-title">Verification successful</h4>
        <button type="button"
                class="close"
                aria-label="Close"
                (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
    
        <div *ngIf="IsSelectVerification"
             class="select-verification">
            <div>To complete your listing , Google requires your verification.</div>
            <br />
            <div>Please select how you want to receive a verification code.</div>
            <div *ngIf="hasPhoneOption || hasSMSOption" class="row pt-5">
                <div class="col-lg-6">
                    <div class="verification-option">
                        <img src="../../../../assets/images/icons/phone.svg"
                             alt="">
                        <div>
                            <h5>01201265623</h5>
                            <p>Receive your code direclty by an automated call or text message to this number</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="verification-buttons">
                        <button *ngIf="hasPhoneOption"
                                type="button"
                                (click)="inProcess('PHONE_CALL')"
                                class="btn btn-color-primary-modal">Call</button>
                        <button *ngIf="hasSMSOption"
                                type="button"
                                (click)="inProcess('SMS')"
                                class="btn btn-secondary-modal">Text</button>
                    </div>
                </div>
            </div>
    
            <div *ngIf="hasAddressOption || hasEmailOption" class="label-other-verifications">
                <span>
                    <a [routerLink]=""
                       (click)="openOtherVerifications()"
                       style="color: black">Other verification options</a>
                </span>
            </div>
    
            <hr class="line-division" />
    
            <div class="row pt-1">
                <div class="col-lg-6">
                    <div class="verification-option">
                        <img src="../../../../assets/images/icons/question.svg"
                             alt="">
                        <div>
                            <h5>Verify later</h5>
                            <p>Your listing can only be accepted if the verification is completed.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="verification-buttons">
                        <button type="button"
                                class="btn btn-color-primary-modal"
                                (click)="closeModal()">Later</button>
                    </div>
                </div>
            </div>
            <hr class="line-division" />
        </div>
    
        <div *ngIf="IsProcessing"
             class="processing">
            <div>In a few seconds you will receive a call to number</div>
            <div class="padding-botton-100"
                 style="font-weight: 900">01578827323</div>
    
            <div class="padding-botton-100">
                <cs-loading [show]="true"></cs-loading>
            </div>
            <div class="row pl-3 pt-4 pb-5">
                <div style="width: 30%">
                    <span>Change your mind?</span>
                </div>
    
                <div class="label-other-verifications pl-4">
                    <span>
                        <a [routerLink]=""
                           (click)="verificationsMethods()"
                           style="color: black">Verification methods</a>
                    </span>
                </div>
            </div>
        </div>

        <div *ngIf="IsInsertCode"
             class="type-code">
            <div>Please type in your six digits long code that you received.</div>
            <div class="type-code-form pb-5">
    
                <img src="../../../../assets/images/icons/check_circle_gray.svg"
                     alt="">
                <mat-form-field class="">
                    <input matInput
                           placeholder="Type in code"
                           autocomplete="off"
                           required>
                </mat-form-field>
    
                <div class="button-div">
                    <button type="button"
                            (click)="confirmCode()"
                            class="btn btn-color-primary-modal">Confirm</button>
                </div>
            </div>
    
            <div class="row pl-3 pt-5">
                <div style="width: 30%">
                    <span>Didn't receive a code?</span>
                </div>
    
                <div class="label-other-verifications pl-4">
                    <span> <a href="#"
                           onclick="return false;"
                           style="color: black">Send code again</a></span>
                </div>
            </div>
    
            <div class="row pl-3 pt-4 pb-5">
                <div style="width: 30%">
                    <span>Change your mind?</span>
                </div>
    
                <div class="label-other-verifications pl-4">
                    <span>
                        <a [routerLink]=""
                           (click)="verificationsMethods()"
                           style="color: black">Verification methods</a>
                    </span>
                </div>
            </div>
        </div>
    
        <div *ngIf="IsSuccess"
             class="successful">
            <div>Your location is now online and can be found by your customers.</div>
            <div>If you want to change or add information you can do this any time in the Dashboard.</div>
            <div>
                <div class="row justify-content-center padding-100">
                    <img 
                         src="../../../../assets/images/icons/check_circle_green.svg"
                         alt="">
                </div>
    
                <div class="row justify-content-center">
                    <button type="button"
                            (click)="closeModal()"
                            class="btn btn-color-primary-modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>